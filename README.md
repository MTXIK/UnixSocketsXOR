# UnixSocketsXOR

## Описание

Этот проект включает две программы на языке C, которые демонстрируют использование UNIX-доменных сокетов для межпроцессного взаимодействия (IPC) на одном компьютере. Программы предназначены для выполнения побитовой операции XOR над содержимым двух файлов.

### Программы:
1. **`file_sender`** — программа, которая читает содержимое заданного файла и отправляет его через UNIX-доменный сокет.
2. **`xor_files`** — программа, которая запускает два экземпляра программы `file_sender`, принимает их выходные данные через два сокета, выполняет над ними побитовую операцию XOR и сохраняет результат в выходной файл.

## Установка

1. Клонируйте репозиторий или скопируйте исходные файлы `file_sender.c`, `xor_files.c` и `Makefile`.
2. Убедитесь, что у вас установлен компилятор GCC.

## Компиляция

1. Откройте терминал и перейдите в директорию с исходными файлами.
2. Выполните команду:
   ```bash
   make
   ```
   Эта команда скомпилирует две программы: `file_sender` и `xor_files`.

## Использование

### Шаг 1: Создайте входные файлы

1. **Создайте текстовый файл**, который вы хотите зашифровать:
   ```bash
   echo "Это пример текстового файла для шифрования." > text.txt
   ```

2. **Создайте файл с случайной последовательностью байт**, который будет использован в качестве ключа для XOR:
   ```bash
   dd if=/dev/urandom of=random.bin bs=1024 count=1
   ```

### Шаг 2: Шифрование

Для шифрования текстового файла с помощью случайной последовательности выполните команду:

```bash
./xor_files text.txt random.bin encrypted.bin
```

**Что происходит:**
- Программа `xor_files` запускает два процесса `file_sender`, которые передают содержимое файлов `text.txt` и `random.bin` через два UNIX-сокета.
- Программа выполняет побитовую операцию XOR над байтами двух файлов и сохраняет результат в `encrypted.bin`.

### Шаг 3: Расшифровка

Чтобы расшифровать зашифрованный файл с использованием того же файла с случайной последовательностью (файл `random.bin`):

```bash
./xor_files encrypted.bin random.bin decrypted.txt
```

**Что происходит:**
- Программа снова выполняет XOR над зашифрованным файлом и файлом с ключом. Это восстанавливает исходный текст, который записывается в `decrypted.txt`.

### Шаг 4: Проверка

Для проверки корректности расшифровки можно сравнить исходный файл `text.txt` с расшифрованным файлом `decrypted.txt`:

```bash
diff text.txt decrypted.txt
```

Если файлы идентичны, команда `diff` не выведет никакого результата. Это означает, что шифрование и расшифровка прошли успешно.

### Шаг 5: Очистка скомпилированных файлов

Если вам нужно удалить скомпилированные файлы, выполните команду:

```bash
make clean
```
